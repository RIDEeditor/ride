<html>
    <head>
        <title>Ruby on Rails IDE</title>
        <script>window.$ = window.jQuery = require("jquery");</script>
        <script>require("./js/jquery-ui/jquery-ui.js");</script>
        <script src="js/underscore.js"></script>
        <script src="js/tabs.js"></script>
        <script src="ace-builds/src/ace.js"></script>
        <script src="ace-builds/src/ext-themelist.js"></script>
        <script src="ace-builds/src/ext-modelist.js"></script>
        <link rel="stylesheet" type="text/css" href="css/tabs.css">
    </head>
    <body>
        <div class="tabs-shell tabs">
            <div class="tabs">
                <button class='new'>+</button>
            </div>
        </div>

        <div id="parent">
            <div id="treeview"></div>
            <div id='code'></div>
        </div>
        
    </body>

<script>
    var TabsList = {}; // Holds all tabs that have been created
    var tab_bar; // Represents the top tab bar
    var editor;
    $(document).ready(function() {
        // Setup the tabs bar
        tab_bar = new Tabs({
            shell: $('.tabs-shell'),
            minWidth: 45,
            maxWidth: 180
        });

        editor = ace.edit('code');
        editor.setValue("");
        editor.setTheme("ace/theme/monokai");

        // Define what the 'new tab' button does
        $('.new').on('click', function(ev) {
            new Tab();
        });

        new Tab("untitled");

    });

    // Load ace extras
    var AceDocument = ace.require("ace/document");
    var EditSession = ace.require("ace/edit_session");
    var UndoManager = ace.require("ace/undomanager");

    /**
    * Switches focus to the tab with the given id
    */
    var switchTab = function(id) {
        var doc = TabsList[id];
        editor.setSession(doc.aceSession);
        editor.focus();
        current_editor = doc;
    }
</script>

<!-- setup the menus -->
<script src="js/menu.js"></script>
<script src="js/editor.js"></script>

<style>
    body {
      background-color: #161712;
    }

    #parent{
        width: 100%;
        height: 100%;
    }

    #treeview{
        background-color: white;
        width: 50%;
        float: left;
        height: 95%;
    }

    #code {
        float: right;
      height: 95%;
      width: 50%;
    }

    button.new {
      padding: 5px;
      margin-left: 15px;
      background: transparent;
      color: #e1e3e1;
      border: none;
      font-size: 18px;
      font-weight: bold;
    }
</style>

